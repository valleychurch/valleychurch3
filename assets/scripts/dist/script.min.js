function centreMap(){google.maps.event.trigger(map,"resize"),map.setCenter(mapCentre),map.fitBounds(mapBounds)}function debounce(func,wait,immediate){var result,timeout=null;return function(){var context=this,args=arguments,later=function(){timeout=null,immediate||(result=func.apply(context,args))},callNow=immediate&&!timeout;return clearTimeout(timeout),timeout=setTimeout(later,wait),callNow&&(result=func.apply(context,args)),result}}function checkNotifications(){try{var notificationData=JSON.parse(localStorage.getItem("notification"));null!==notificationData?$(".c-notification").attr("id")!==notificationData.id&&(localStorage.removeItem("notification"),attachNotifications()):attachNotifications()}catch(e){}}function attachNotifications(){$(".c-notification").slideDown(),$(".js-notification-dismiss").on("click",function(e){e.preventDefault(),$(".c-notification").slideUp(function(){var notificationDataToSet={id:$(this).attr("id"),hide:!0};localStorage.setItem("notification",JSON.stringify(notificationDataToSet))})})}function addTests(){Modernizr.addTest("objectfit",function(){return!!("objectFit"in document.documentElement.style)}),Modernizr.addTest("fontvariant",function(){var fontVariantLigatures=!!("fontVariantLigatures"in document.body.style),fontFeatureSettings=!!("fontFeatureSettings"in document.body.style);return!(!fontVariantLigatures&&!fontFeatureSettings)})}function sideNav(){$(".js-nav-toggle").on("click",function(e){e.preventDefault(),$("body").toggleClass("is-menu-active")})}function checkSideNav(){Modernizr.mq("(min-width: 60em)")&&$("body").hasClass("is-menu-active")&&$("body").removeClass("is-menu-active")}function loadHomeSlider(){var prevImg='<svg width="30" height="48" class="prev-btn"><image xlink:href="http://valleychurch.eu/wp-content/themes/valleychurch2/img/icons/icon-prev.svg" src="http://valleychurch.eu/wp-content/themes/valleychurch2/img/icons/icon-prev.png" width="30" height="48" class="prev-btn" /></svg>',nextImg='<svg width="30" height="48" class="next-btn"><image xlink:href="http://valleychurch.eu/wp-content/themes/valleychurch2/img/icons/icon-next.svg" src="http://valleychurch.eu/wp-content/themes/valleychurch2/img/icons/icon-next.png" width="30" height="48" class="next-btn" /></svg>';$(".c-slides").responsiveSlides({speed:500,timeout:8e3,auto:!0,nav:!0,pager:!0,navContainer:".slide-control",prevText:prevImg,nextText:nextImg}),VC.homeSliderActive=!0}var VC={siteActive:!1,supports:{objectFit:!1,fontVariantLigatures:!1},homeSliderActive:!1},map,mapOpts,mapStyle,mapStyled=new google.maps.StyledMapType(mapStyle,{name:"Styled"}),mapCentre=new google.maps.LatLng(53.733241,-2.66224),mapBounds,mapLocations,mapInfoWindow,mapMarker;mapStyle=[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"},{lightness:17}]}];try{Typekit.load({async:!0})}catch(e){}$(function(){addTests(),checkNotifications(),sideNav(),checkSideNav(),loadHomeSlider(),VC.siteActive=!0,VC.supports.objectFit=Modernizr.objectFit,VC.supports.fontVariantLigatures=Modernizr.fontvariant}),$(window).resize(function(){debounce(checkSideNav(),250)});